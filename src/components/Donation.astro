---
import { default as QRCode } from "react-qr-code";
import { CopyWrapper } from './CopyWrapper.tsx'
export interface Props {
	lnUrl: string;
  costsMonthly: string;
}

const { lnUrl, costsMonthly } = Astro.props
---

<section class="donation">
  <p>
    This service is free, but it takes some time and costs {costsMonthly}/month to operate.
  </p>
  <p>
    If you like this service, please consider a small lightning âš¡ donation to keep it up:
  </p>

  <QRCode className="lnqr text-gradient" level="M" size={300} fgColor="var(--text)" value={`lightning:${lnUrl}`} />

  <div class="or">or</div>

  <CopyWrapper
    text={lnUrl}
    client:visible
  >
    <div class="box copy-box">
      <code>
        {lnUrl}
      </code>
      <button><img src="images/copy-icon.svg" /></button>
    </div>
  </CopyWrapper>
</section>

<style>
  .donation {
    display: block;
    margin-top: 3rem;
    border-top: 1px solid rgb(var(--accent));
  }

  .lnqr {
    max-width: 300px;
    border-radius: 0.5rem;
    display: block;
    margin: 2rem auto 0 auto;
    border: 1px solid rgba(var(--accent), 25%);
    background: #ffffff;
    padding: 24px;
    box-sizing: border-box;
  }

  .or {
    margin: 1rem 0;
    text-align: center;
  }

  code {
    font-size: 0.75em;
    display: block;
    text-align: center;
  }
</style>
